<%- include("./partials/header") %>

<link rel="stylesheet" href="/css/home.css">

<div class="container">

    <!-- HERO -->
    <section class="hero">
        <h2>Municipal Services Streamlined. Report Issues Instantly.</h2>
        <p>Empowering citizens with a direct, transparent platform to address infrastructure, safety, and cleanliness concerns across the city.</p>
        <a href="/reports/new">
            <i class="fas fa-exclamation-triangle"></i> Start a New Report
        </a>
    </section>

    <!-- IMPACT SECTION -->
    <section class="impact-section">
        <h2>Our Impact at a Glance</h2>

        <div class="impact-box">
            <div class="impact-item">
                <h2 class="green">500+</h2>
                <p>Resolved Issues</p>
            </div>

            <div class="impact-item">
                <h2 class="blue">1200+</h2>
                <p>Active Users</p>
            </div>

            <div class="impact-item">
                <h2 class="yellow">50+</h2>
                <p>Local Authorities</p>
            </div>

            <div class="impact-item">
                <h2 class="lightblue">100%</h2>
                <p>Satisfaction Goal</p>
            </div>
        </div>
    </section>

    <!-- CATEGORY SECTION -->
    <section class="category-section">
        <h2>Select a Reporting Category</h2>
        <p>Click the issue type below for a guided form that ensures your request reaches the correct department efficiently.</p>

        <div class="category-grid">

            <% 
                const defaultCategories = [
                    { name: "Potholes & Road Damage", icon: "fa-road" },
                    { name: "Waste Collection & Dumping", icon: "fa-dumpster-fire" },
                    { name: "Public Safety & Lighting", icon: "fa-lightbulb" },
                    { name: "Water & Utility Leaks", icon: "fa-faucet" },
                    { name: "Park & Public Area Maintenance", icon: "fa-tree" },
                    { name: "Graffiti & Vandalism", icon: "fa-paint-brush" }
                ];
            
                const categories = (typeof reportCategories !== 'undefined' && reportCategories.length > 0) ? reportCategories : defaultCategories; 
            %>

            <% categories.forEach(category => { %>
                <div 
                    class="category-card"
                    onclick="window.location.href='/reports/new?category=<%= encodeURIComponent(category.name || category) %>'"
                >
                    <i class="fas <%= category.icon || 'fa-map-marker-alt' %>"></i>
                    <h3><%= category.name || category %></h3>
                    <p>Issues affecting <%= (category.name || category).toLowerCase() %>.</p>
                </div>
            <% }); %>

        </div>
    </section>

    <!-- STATUS SECTION -->
    <section class="status-section">
        <h2>Track Your Report Status</h2>
        <p>Already submitted a report? Enter your <strong>Report ID</strong> below for real-time updates.</p>

        <form action="/reports/status" method="GET" class="status-form">
            <input type="text" name="id" required placeholder="Enter Report ID (e.g., CC-2025-12345)">
            <button type="submit">
                Track Status <i class="fas fa-arrow-circle-right"></i>
            </button>
        </form>
    </section>

</div>

<%- include("./partials/footer") %>
